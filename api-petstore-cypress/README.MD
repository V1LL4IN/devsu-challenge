# ğŸ¾ PetStore API Testing Suite

AutomatizaciÃ³n de pruebas de API REST para PetStore usando Cypress con validaciÃ³n de schemas, reportes detallados y CI/CD.

## ğŸ“‹ DescripciÃ³n

Este proyecto implementa una suite completa de pruebas automatizadas para la API de PetStore (Swagger), cubriendo operaciones CRUD completas con un enfoque en calidad, mantenibilidad y mejores prÃ¡cticas de la industria.

## âœ¨ CaracterÃ­sticas principales

- **Testing completo de API REST** con Cypress
- **ValidaciÃ³n de schemas** usando Joi para garantizar integridad de datos
- **Page Object Pattern adaptado** para APIs (Helper Pattern)
- **Reportes HTML detallados** con Mochawesome
- **CI/CD** con GitHub Actions
- **GestiÃ³n de datos de prueba** con fixtures
- **Logging detallado** para debugging eficiente
- **Manejo de errores robusto** y casos edge

## ğŸš€ InstalaciÃ³n

### Prerrequisitos
- Node.js 18+ (recomendado 20+)
- npm o yarn
- Git

### Pasos de instalaciÃ³n

```bash
# Clonar el repositorio
git clone https://github.com/[tu-usuario]/api-petstore-cypress.git
cd api-petstore-cypress

# Instalar dependencias
npm ci
```

## ğŸ§ª EjecuciÃ³n de pruebas

### Modo headless (recomendado para CI)
```bash
npm test
```
Este comando ejecuta todas las pruebas y genera reportes automÃ¡ticamente.

### Modo interactivo (debugging)
```bash
npm run open
```
Ãštil para desarrollo y debugging visual de las pruebas.

### Modo headed (ver ejecuciÃ³n en navegador)
```bash
npm run test:headed
```

## ğŸ“Š Reportes

Los reportes se generan automÃ¡ticamente despuÃ©s de cada ejecuciÃ³n:

- **UbicaciÃ³n**: `cypress/reports/html/index.html`
- **Formato**: HTML interactivo con grÃ¡ficos y detalles
- **Contenido**: 
  - Resumen de ejecuciÃ³n
  - Tiempo de respuesta por endpoint
  - Detalles de cada prueba
  - Logs de debugging

Para ver el reporte, abre el archivo HTML en cualquier navegador:
```bash
open cypress/reports/html/index.html  # macOS
start cypress/reports/html/index.html # Windows
```

## ğŸ—ï¸ Estructura del proyecto

```
api-petstore-cypress/
â”œâ”€â”€ cypress/
â”‚   â”œâ”€â”€ e2e/
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â””â”€â”€ petstore-crud.cy.js    # Suite principal de pruebas
â”‚   â”œâ”€â”€ fixtures/
â”‚   â”‚   â””â”€â”€ petData.json               # Datos de prueba
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â””â”€â”€ petSchemas.js              # Validaciones de schema con Joi
â”‚   â”œâ”€â”€ support/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ petApiHelpers.js       # Funciones auxiliares para API
â”‚   â”‚   â”œâ”€â”€ commands.js                # Comandos personalizados Cypress
â”‚   â”‚   â””â”€â”€ e2e.js                     # ConfiguraciÃ³n global
â”‚   â””â”€â”€ reports/                       # Reportes generados (ignorado en git)
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ci.yml                     # Pipeline de CI/CD
â”œâ”€â”€ cypress.config.js                  # ConfiguraciÃ³n de Cypress
â”œâ”€â”€ package.json                       # Dependencias y scripts
â”œâ”€â”€ README.md                          # Este archivo
â””â”€â”€ conclusiones.txt                   # AnÃ¡lisis y hallazgos

```

## ğŸ“ Casos de prueba implementados

### Flujo principal (requerido)
1. **Crear mascota**: POST /pet con validaciÃ³n completa de respuesta
2. **Consultar por ID**: GET /pet/{id} con manejo de casos exitosos y errÃ³neos
3. **Actualizar datos**: PUT /pet actualizando nombre y estado
4. **Buscar por estado**: GET /pet/findByStatus validando filtros

### Pruebas adicionales (valor agregado)
- ValidaciÃ³n de schemas en todas las respuestas
- Prueba de lÃ­mites en campos (nombres largos)
- MÃºltiples actualizaciones consecutivas
- Manejo de IDs inexistentes
- VerificaciÃ³n de persistencia de datos
- ValidaciÃ³n de tiempos de respuesta

## ğŸ”„ CI/CD

El proyecto incluye un pipeline de GitHub Actions que:
1. Ejecuta las pruebas en cada push/PR
2. Genera reportes de ejecuciÃ³n
3. Almacena artifacts (reportes HTML)
4. Notifica resultados

Ver estado: ![CI Status](https://github.com/[tu-usuario]/api-petstore-cypress/actions/workflows/ci.yml/badge.svg)

## ğŸ› ï¸ TecnologÃ­as utilizadas

- **Cypress 13.7.0**: Framework de testing
- **Joi**: ValidaciÃ³n de schemas
- **Mochawesome**: GeneraciÃ³n de reportes
- **GitHub Actions**: CI/CD
- **JavaScript ES6+**: Lenguaje de programaciÃ³n

## ğŸ“ˆ MÃ©tricas de calidad

- **Cobertura**: 100% de endpoints especificados
- **Tiempo promedio de respuesta**: < 500ms
- **Tasa de Ã©xito**: 100% en ambiente estable
- **Mantenibilidad**: CÃ³digo modular con helpers reutilizables

## ğŸ” Debugging

Para debugging detallado:

1. Usa el modo interactivo: `npm run open`
2. Revisa los logs en consola durante la ejecuciÃ³n
3. Los comandos personalizados incluyen logging adicional
4. Cada test imprime informaciÃ³n de contexto

## ğŸ¤ ContribuciÃ³n

Este es un proyecto de evaluaciÃ³n tÃ©cnica, pero se siguen las mejores prÃ¡cticas:

1. Fork del repositorio
2. Crear feature branch (`git checkout -b feature/NuevaCaracteristica`)
3. Commit cambios (`git commit -m 'Add: nueva caracterÃ­stica'`)
4. Push al branch (`git push origin feature/NuevaCaracteristica`)
5. Abrir Pull Request

## ğŸ“œ Licencia

Proyecto de evaluaciÃ³n tÃ©cnica - Uso educativo


## ğŸ¯ PrÃ³ximos pasos sugeridos

- Implementar pruebas de carga con Artillery o K6
- Agregar pruebas de seguridad (OWASP API Top 10)
- Implementar contract testing con Pact
- Agregar mutaciÃ³n de datos para pruebas de caos
- IntegraciÃ³n con herramientas de monitoreo (Datadog, New Relic)